<template>
  <div v-if="product" class="product-detail-view container mx-auto px-4 py-8 flex flex-row mt-12">
    <!-- Image Section (Right - 1/4 width) -->
    <div class="w-1/4 pr-8 order-2">
      <div class="main-image mb-4">
        <img :src="mainImage" :alt="product.name" class="w-full h-auto object-cover rounded border">
      </div>
      <div class="thumbnail-images flex justify-between">
        <img
          v-for="(image, index) in product.images"
          :key="index"
          :src="image"
          :alt="`${product.name} thumbnail ${index + 1}`"
          class="w-1/4 cursor-pointer rounded border hover:opacity-75"
          :class="{ 'border-2 border-blue-500': image === mainImage }"
          @click="setMainImage(image)"
        >
      </div>
    </div>

    <!-- Details Section (Left - 3/4 width) -->
    <div class="w-3/4 pl-8 order-1">
      <h1 class="text-3xl font-bold mb-4">{{ product.name }}</h1>
      <p class="text-gray-700 mb-6">{{ product.description }}</p>
      <p class="text-2xl font-semibold text-green-600 mb-6">{{ product.price }}دينار</p>

      <div class="quantity-selector mb-6 flex items-center">
        <label for="quantity" class="px-4 py-2  font-medium text-gray-700">الكمية:</label>
        <button @click="decreaseQuantity" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 transition duration-150 ease-in-out text-gray-700 font-bold">-</button>
        <input
          type="number"
          id="quantity"
          v-model.number="quantity"
          min="1"
          class="w-16 text-center focus:outline-none text-gray-900"
        >
        <button @click="increaseQuantity" class="px-4 py-2 bg-gray-200 hover:bg-gray-300 transition duration-150 ease-in-out text-gray-700 font-bold">+</button>
      </div>

      <button @click="addToCart" class="bg-zad-green hover:bg-green-700 text-white font-bold py-2 px-6 rounded transition duration-300">
        إضافة إلى السلة
      </button>
    </div>
  </div>
  <div v-else class="text-center py-10">
    جاري تحميل المنتج...
  </div>
</template>

<script setup>
import { ref, onMounted } from 'vue'
import { useRoute } from 'vue-router'

// Using localStorage for cart state
// Temporary product list (ideally fetch this from a store or API)
const allProducts = ref([
  { id: 1, name: 'كسكس', price: 12, category: 'الموروث الليبي', images: ['https://www.cookingwithalia.com/wp-content/uploads/2016/04/rsz_couscous1-cropped.jpg'], description: 'الكسكس الليبي هو طبق تقليدي عريق يحمل في طياته تاريخاً غنياً ونكهات أصيلة تعكس كرم الضيافة الليبية. يُصنع الكسكس من سميد القمح الصلب، ويتم تحضيره على البخار ليصبح خفيفاً ورقيقاً. يُقدم عادة مع مرق غني بالخضروات واللحم (غالباً لحم الضأن أو الدجاج)، ويُزين بالحمص والبصل المكرمل. يعتبر الكسكس وجبة متكاملة ومغذية، فهو مصدر ممتاز للكربوهيدرات المعقدة التي تمنح الجسم الطاقة اللازمة للنشاط اليومي. كما أنه غني بالألياف الغذائية التي تساعد على تحسين عملية الهضم وتعزيز صحة الجهاز الهضمي بشكل عام. بالإضافة إلى ذلك، يحتوي الكسكس على مجموعة من الفيتامينات والمعادن الضرورية للجسم، مثل فيتامينات ب والحديد والمغنيسيوم. تحضير الكسكس وتناوله يمثل جزءاً هاماً من التراث الثقافي الليبي، وغالباً ما يكون محور التجمعات العائلية والاحتفالات. إنه ليس مجرد طعام، بل هو تجربة حسية وثقافية تعبر عن الهوية الليبية الأصيلة.' },
  { id: 2, name: 'مهلبية الشوفان', price: 20, category: 'الموروث الليبي', images: ['https://scontent.fmji2-1.fna.fbcdn.net/v/t39.30808-6/464386174_3923242391281323_8476364299146732913_n.jpg?_nc_cat=111&ccb=1-7&_nc_sid=aa7b47&_nc_ohc=-i8PmFFYACsQ7kNvwGoZQwn&_nc_oc=Admz3cEto3w2h0bbaDQ5uGwP316XkFMaC3FOsSjIC5IuI1IW2mdTIdnZXY7z5pn27MQ&_nc_zt=23&_nc_ht=scontent.fmji2-1.fna&_nc_gid=i-SNR0x4DNzURtci4bHeEg&oh=00_AfGZRtm5NoNrpr8QrstjGoTkfR-pcwuV8iqFyeNPv5e4Hw&oe=68162E90'], description: 'مهلبية الشوفان هي حلوى تقليدية شهيرة في ليبيا، تتميز بقوامها الكريمي ونكهتها اللذيذة. تُعد هذه المهلبية باستخدام الشوفان والحليب والسكر، وغالباً ما تُنكه بماء الورد أو ماء الزهر لإضفاء رائحة عطرية مميزة. تُقدم باردة كتحلية منعشة، وتُزين عادة بالقرفة أو المكسرات المفرومة. تعتبر مهلبية الشوفان خياراً صحياً نسبياً مقارنة بالحلويات الأخرى، حيث أن الشوفان مصدر غني بالألياف بيتا جلوكان التي تساعد على خفض الكوليسترول وتحسين صحة القلب. كما أن الشوفان يوفر طاقة مستدامة ويساعد على الشعور بالشبع لفترة أطول. الحليب المستخدم في تحضيرها يضيف الكالسيوم والبروتين الضروريين لصحة العظام والعضلات. هذه الحلوى سهلة الهضم ومناسبة لمختلف الأعمار، وتعتبر خياراً ممتازاً لوجبة إفطار سريعة ومغذية أو كتحلية خفيفة بعد الوجبات. إنها تجمع بين الطعم الرائع والفوائد الصحية، مما يجعلها محبوبة لدى الكثيرين في ليبيا.' },
  { id: 3, name: 'خبزة العدس', price: 18, category: 'الموروث الليبي', images: ['https://scontent.fmji2-1.fna.fbcdn.net/v/t1.6435-9/130534107_3360701347488840_9154862791638635310_n.jpg?_nc_cat=106&ccb=1-7&_nc_sid=833d8c&_nc_ohc=z8hjARuBWCYQ7kNvwFLbdNd&_nc_oc=AdmPPDd9FFTS62H3dRiVlOQQirnfi-I4IC2xf9QRuxXfHwwqiCC3cBeSEYtW5w7Yiug&_nc_zt=23&_nc_ht=scontent.fmji2-1.fna&_nc_gid=_Puy92W10ZJ_-d-JUNdZLw&oh=00_AfFxVVNXNBLGGouFrmtghfv_9aPkacOT2DthJAPEw-AOSQ&oe=6837CD0A'], description: 'خبزة العدس الليبية هي طبق شعبي تقليدي يعكس بساطة وغنى المطبخ الليبي. تُعد هذه الخبزة بشكل أساسي من العدس المطبوخ والمهروس، والذي يُخلط مع الدقيق والتوابل لتشكيل عجينة تُخبز بعد ذلك. تتميز بنكهتها الترابية الغنية وقوامها الكثيف والمشبع. غالباً ما تُقدم كوجبة رئيسية أو كطبق جانبي، وتُؤكل عادة مع زيت الزيتون أو المرق. العدس هو المكون الرئيسي هنا، وهو مصدر قوة غذائية. يعتبر العدس من البقوليات الغنية جداً بالبروتين النباتي، مما يجعله خياراً ممتازاً للنباتيين ومصدراً هاماً للبروتين للجميع. كما أنه يحتوي على كميات كبيرة من الألياف الغذائية التي تعزز صحة الجهاز الهضمي وتساعد على تنظيم مستوى السكر في الدم. بالإضافة إلى ذلك، العدس غني بالحديد، مما يساعد في الوقاية من فقر الدم، ويحتوي على حمض الفوليك وفيتامينات ب الأخرى الضرورية لصحة الجسم. خبزة العدس هي مثال رائع على كيفية تحويل مكونات بسيطة ومغذية إلى طبق لذيذ ومفيد يعكس التراث الغذائي للمنطقة.' },
  { id: 16, name: 'كسكسي حلو', price: 22, category: 'الموروث الليبي', images: ['https://scontent.fmji2-2.fna.fbcdn.net/v/t39.30808-6/480244528_680815627632895_8529196092665103708_n.jpg?_nc_cat=101&ccb=1-7&_nc_sid=833d8c&_nc_ohc=czpfTkUknu4Q7kNvwFmoObS&_nc_oc=AdkbYhbXNU5C_kWsKEXDZm9wBqN4Wg73nKPrwssVaicQqw_dw3g0z9npmCwEYdh8sVM&_nc_zt=23&_nc_ht=scontent.fmji2-2.fna&_nc_gid=AhM6TVgsOfnVv9qcQhdUdQ&oh=00_AfGwHRd9n7u680Kg25W5QjZ13XI2d69DEM5K6tlc7KrOsA&oe=68162745'], description: 'الكسكسي الحلو هو تحلية ليبية تقليدية مميزة، تُقدم غالباً في المناسبات السعيدة والأعياد. يختلف عن الكسكس المالح المستخدم في الأطباق الرئيسية، حيث يتم تحضيره بالبخار ثم يُخلط مع الزبدة أو السمن، ويُحلى بالسكر أو العسل. يُضاف إليه عادة مجموعة متنوعة من المكسرات مثل اللوز والجوز والفستق، بالإضافة إلى الزبيب والتمر المفروم. يُنكه بماء الزهر أو القرفة لإضفاء نكهة عطرية غنية. يعتبر الكسكسي الحلو مصدراً غنياً بالطاقة بفضل احتوائه على الكربوهيدرات والسكريات الطبيعية من الفواكه المجففة والعسل. المكسرات المضافة تزيد من قيمته الغذائية، حيث توفر الدهون الصحية، البروتين، والألياف، بالإضافة إلى الفيتامينات والمعادن مثل فيتامين E والمغنيسيوم. الزبيب والتمر يضيفان الحديد والبوتاسيوم. هذه التحلية ليست فقط لذيذة ومغذية، بل تحمل أيضاً قيمة ثقافية واجتماعية كبيرة في ليبيا، كونها جزءاً لا يتجزأ من احتفالاتهم وتقاليدهم.' },
  { id: 4, name: 'فلفل احمر', price: 10, category: 'البهارات', images: ['https://cdn.salla.sa/CwTIa4Hg7CWlxcYu59RVypNrGVWOL6F6SVPGuBhL.jpeg'], description: 'الفلفل الأحمر المطحون هو بهار أساسي في العديد من المطابخ حول العالم، بما في ذلك المطبخ الليبي، لإضافة نكهة حارة ولون زاهٍ للأطباق. يُصنع من تجفيف وطحن ثمار الفلفل الأحمر الحار. تتفاوت درجة حرارته حسب نوع الفلفل المستخدم، ويمكن أن تتراوح من الحرارة المعتدلة إلى الشديدة جداً. المكون النشط الرئيسي في الفلفل الحار هو الكابسيسين، وهو المسؤول عن الإحساس بالحرارة وله أيضاً العديد من الفوائد الصحية المحتملة. يُعتقد أن الكابسيسين يساعد في تعزيز عملية الأيض وحرق السعرات الحرارية، كما قد يكون له خصائص مضادة للالتهابات ومسكنة للألم. الفلفل الأحمر أيضاً مصدر جيد للفيتامينات، خاصة فيتامين C وفيتامين A، بالإضافة إلى مضادات الأكسدة الأخرى التي تساعد في حماية الجسم من التلف الخلوي. يُستخدم الفلفل الأحمر المطحون في تتبيل اللحوم، الدواجن، الأسماك، وفي تحضير الصلصات، الحساء، والأطباق الشعبية لإضفاء لمسة من الحرارة والنكهة المميزة.' },
  { id: 5, name: 'كركم', price: 25, category: 'البهارات', images: ['https://media.zid.store/thumbs/bab339e4-dd66-4855-bf39-3b22a70cfba4/bcbd2812-e56e-4b3c-ad57-55e8112e8916-thumbnail-1000x1000-70.jpg'], description: 'الكركم هو بهار ذو لون أصفر ذهبي ساطع ونكهة ترابية دافئة، يُستخدم على نطاق واسع في الطهي، خاصة في المطبخ الهندي والآسيوي، وله شعبية متزايدة في جميع أنحاء العالم بسبب فوائده الصحية العديدة. يُستخرج الكركم من جذمور نبات الكركم، ويُستخدم عادة في شكل مسحوق مجفف. المكون النشط الأكثر أهمية في الكركم هو الكركمين، وهو مركب قوي مضاد للأكسدة ومضاد للالتهابات. تُظهر الأبحاث أن الكركمين قد يساعد في تقليل الالتهابات المزمنة في الجسم، والتي يُعتقد أنها تلعب دوراً في العديد من الأمراض المزمنة. كما أن له خصائص مضادة للأكسدة تساعد في حماية الخلايا من التلف الناتج عن الجذور الحرة. يُستخدم الكركم في تلوين الأطعمة وإضافة نكهة مميزة للكاري، الحساء، الأرز، والمشروبات مثل "الحليب الذهبي". بالإضافة إلى فوائده الداخلية، يُستخدم الكركم أيضاً في بعض تطبيقات العناية بالبشرة بسبب خصائصه المضادة للالتهابات والأكسدة.' },
  { id: 6, name: 'كزبرة', price: 5, category: 'البهارات', images: ['https://img.youm7.com/large/202106040237423742.jpg'], description: 'الكزبرة هي عشبة وبهار متعدد الاستخدامات، تُستخدم أوراقها وبذورها في الطهي لإضافة نكهة مميزة وعطرية. تُعرف الأوراق الطازجة بالكزبرة أو الكسبرة، ولها نكهة منعشة وحمضية قليلاً، بينما تُستخدم البذور المجففة كبهار، ولها نكهة دافئة وحمضية مع لمسة من الحمضيات. في المطبخ العربي، تُستخدم الكزبرة على نطاق واسع في تتبيل اللحوم، الدواجن، الأسماك، وفي تحضير الحساء، اليخنات، والمخبوزات. بذور الكزبرة المطحونة هي مكون أساسي في العديد من خلطات البهارات مثل الكاري والبهارات المشكلة. الكزبرة ليست مجرد بهار لإضافة النكهة، بل لها أيضاً فوائد صحية. تحتوي أوراق الكزبرة على فيتامينات K وC وA، بالإضافة إلى مضادات الأكسدة. يُعتقد أن الكزبرة تساعد في تحسين عملية الهضم وتخفيف الانتفاخ والغازات. كما أن لها خصائص مضادة للبكتيريا والفطريات. استخدام الكزبرة في الطهي يضيف عمقاً وتعقيداً للنكهة، سواء استخدمت الأوراق الطازجة في التزيين والسلطات أو البذور المطحونة في الطهي.' },
  { id: 17, name: 'كمون', price: 15, category: 'البهارات', images: ['https://static.webteb.net/images/content/tbl_articles_article_21359_530032d70cf-d8a3-4f05-a0b9-3486077e366a.jpg'], description: 'الكمون هو بهار عطري ذو نكهة دافئة وترابية مميزة، يُستخدم على نطاق واسع في المطابخ حول العالم، بما في ذلك المطبخ الليبي، الهندي، المكسيكي، وشمال أفريقيا. يُستخرج الكمون من بذور نبات الكمون، ويُستخدم عادة في شكل حبوب كاملة أو مطحونة. الكمون المطحون هو الأكثر شيوعاً في الاستخدام اليومي لسهولة توزيعه في الأطباق. يُعد الكمون مكوناً أساسياً في العديد من خلطات البهارات مثل الكاري، الفلفل الحار، والبهارات المشكلة. يُستخدم في تتبيل اللحوم، الدواجن، الأسماك، البقوليات، والخضروات، ويُضاف إلى الحساء، اليخنات، والأرز لإضفاء نكهة عميقة ومميزة. بالإضافة إلى نكهته الرائعة، يشتهر الكمون بفوائده الصحية، خاصة فيما يتعلق بالجهاز الهضمي. يُعتقد أن الكمون يساعد في تحفيز إفراز الإنزيمات الهاضمة، مما يسهل عملية الهضم ويقلل من الانتفاخ والغازات. كما أنه مصدر جيد للحديد، وهو معدن ضروري لنقل الأكسجين في الدم والوقاية من فقر الدم. الكمون أيضاً يحتوي على مضادات الأكسدة التي تساهم في حماية الجسم من التلف الخلوي.' },
  { id: 7, name: 'زيت زيتون', price: 28, category: 'الزيوت الطبيعية', images: ['https://cdn.salla.sa/gVzwa/tnFAm3aO0J63X95ilPxpcvxCTShanjITuBPhLVzc.jpg'], description: 'زيت الزيتون هو زيت طبيعي يُستخرج من ثمار شجرة الزيتون، ويُعتبر عنصراً أساسياً في حمية البحر الأبيض المتوسط المعروفة بفوائدها الصحية العديدة. زيت الزيتون البكر الممتاز هو أعلى جودة، ويُنتج عن طريق العصر البارد لثمار الزيتون دون استخدام مواد كيميائية أو حرارة عالية، مما يحافظ على نكهته الغنية وقيمته الغذائية العالية. يتميز بنكهة فاكهية قوية مع لمسة من المرارة أو الحدة، ولون يتراوح من الأخضر إلى الذهبي. زيت الزيتون غني جداً بالدهون الأحادية غير المشبعة، وخاصة حمض الأوليك، والتي تُعتبر دهوناً صحية مفيدة لصحة القلب. كما أنه يحتوي على كميات كبيرة من مضادات الأكسدة القوية، مثل البوليفينول، التي تساعد في حماية الخلايا من التلف الناتج عن الإجهاد التأكسدي وتقليل الالتهابات في الجسم. يُستخدم زيت الزيتون في الطهي، تتبيل السلطات، غمس الخبز، وفي العديد من الأطباق لإضافة نكهة غنية وقيمة غذائية. يُعتبر استهلاك زيت الزيتون بانتظام جزءاً من نمط حياة صحي يساهم في الوقاية من أمراض القلب والسكري وأنواع معينة من السرطان.' },
  { id: 8, name: 'زيت لوز', price: 30, category: 'الزيوت الطبيعية', images: ['https://i0.wp.com/www.ibelieveinsci.com/wp-content/uploads/almond-oil-and-almonds-1296x728-1.jpg?fit=1296%2C728&ssl=1'], description: 'زيت اللوز الحلو هو زيت طبيعي خفيف ولطيف يُستخرج من بذور اللوز الحلو. يتميز بلونه الأصفر الفاتح ورائحته الخفيفة والممتعة. يُستخدم زيت اللوز على نطاق واسع في صناعة مستحضرات التجميل والعناية بالبشرة والشعر، بالإضافة إلى استخدامه في بعض تطبيقات الطهي والحلويات. يعتبر زيت اللوز مرطباً ممتازاً للبشرة، حيث يمتصه الجلد بسهولة دون أن يترك شعوراً دهنياً ثقيلاً. يساعد في ترطيب البشرة الجافة والتهدئة من التهيج والالتهابات. كما أنه مفيد للشعر، حيث يساعد في ترطيب فروة الرأس وتقوية بصيلات الشعر وإضافة لمعان للشعر الباهت. زيت اللوز غني بفيتامين E، وهو مضاد قوي للأكسدة يساعد في حماية الخلايا من التلف ويعزز صحة الجلد. كما يحتوي على دهون أحادية غير مشبعة وأحماض دهنية أساسية مفيدة للصحة العامة. يُستخدم زيت اللوز أيضاً كزيت للتدليك بسبب قوامه الناعم وقدرته على الانزلاق بسهولة على الجلد. إنه زيت طبيعي متعدد الاستخدامات يجمع بين الفوائد الجمالية والصحية.' },
  { id: 9, name: 'زيت سمسم', price: 32, category: 'الزيوت الطبيعية', images: ['https://static.webteb.net/images/content/tbl_articles_article_24206_3835fafe79f-9a0b-401d-941d-c40b24dc7bad.jpg'], description: 'زيت السمسم هو زيت نباتي يُستخرج من بذور السمسم، ويُستخدم على نطاق واسع في المطابخ الآسيوية والشرق أوسطية، بالإضافة إلى استخدامه في الطب التقليدي والعناية بالجسم. يتميز بنكهة قوية ومميزة، ويمكن أن يكون لونه فاتحاً أو داكناً حسب طريقة استخراجه (غير محمص أو محمص). زيت السمسم غني بالدهون الصحية، وخاصة الدهون الأحادية والمتعددة غير المشبعة، بالإضافة إلى مضادات الأكسدة القوية مثل السيسامول والسيسامين. تُظهر الأبحاث أن زيت السمسم قد يساعد في خفض مستوى الكوليسترول الضار في الدم وتقليل خطر الإصابة بأمراض القلب. كما أن له خصائص مضادة للالتهابات وقد يساعد في خفض ضغط الدم. يُستخدم زيت السمسم في الطهي، خاصة في القلي السريع وتتبيل الأطباق لإضافة نكهة عميقة. في العناية بالجسم، يُستخدم زيت السمسم لترطيب البشرة والشعر، ويُعتقد أنه يساعد في حماية البشرة من أضرار أشعة الشمس. إنه زيت صحي ولذيذ يضيف قيمة غذائية ونكهة مميزة لمختلف الأطباق.' },
  { id: 18, name: 'زيت خروع', price: 25, category: 'الزيوت الطبيعية', images: ['https://vid.alarabiya.net/images/2021/01/16/137eca7d-6269-4089-95a3-058165535f16/137eca7d-6269-4089-95a3-058165535f16_16x9_1200x676.jpg?width=801&format=jpg'], description: 'زيت الخروع هو زيت نباتي سميك ولزج يُستخرج من بذور نبات الخروع. يُعرف بخصائصه العلاجية المتعددة ويُستخدم في الطب التقليدي والحديث، بالإضافة إلى استخدامه في صناعة مستحضرات التجميل. المكون الرئيسي النشط في زيت الخروع هو حمض الريسينوليك، وهو حمض دهني غير مشبع يُعتقد أنه المسؤول عن معظم فوائده الصحية. يُستخدم زيت الخروع بشكل شائع كملين طبيعي قوي لعلاج الإمساك، حيث يعمل على تحفيز حركة الأمعاء. كما أنه معروف بفوائده لتعزيز نمو الشعر وكثافته، ويُستخدم غالباً في خلطات زيوت الشعر لتقوية البصيلات وتقليل التساقط. للبشرة، يُستخدم زيت الخروع كمرطب عميق وقد يساعد في علاج بعض مشاكل الجلد مثل حب الشباب والالتهابات الفطرية بسبب خصائصه المضادة للميكروبات والالتهابات. يُستخدم أيضاً في تخفيف آلام المفاصل والعضلات عند تطبيقه موضعياً. على الرغم من فوائده، يجب استخدام زيت الخروع بحذر وبكميات معتدلة، خاصة عند تناوله عن طريق الفم كملين.' },
  { id: 10, name: 'بابونج', price: 26, category: 'الأعشاب الطبيعية', images: ['https://cdn.altibbi.com/cdn/cache/1000x500/image/2022/07/20/3d7af790ad98093b52b8cd9a1482e000.jpg.webp'], description: 'البابونج هو عشبة عطرية شهيرة تُستخدم أزهارها المجففة على نطاق واسع لتحضير شاي الأعشاب المعروف بخصائصه المهدئة والمريحة. يُعرف شاي البابونج بقدرته على المساعدة في الاسترخاء وتحسين جودة النوم، مما يجعله خياراً شائعاً قبل النوم أو في أوقات التوتر. بالإضافة إلى تأثيره المهدئ، يمتلك البابونج خصائص مضادة للالتهابات ومضادة للتشنجات، مما يجعله مفيداً في تخفيف مشاكل الجهاز الهضمي مثل الانتفاخ، الغازات، وعسر الهضم. قد يساعد أيضاً في تهدئة آلام الدورة الشهرية وتقليل تقلصات المعدة. يحتوي البابونج على مضادات الأكسدة التي تساهم في حماية الجسم من التلف الخلوي. يمكن استخدام البابونج أيضاً موضعياً في شكل كمادات لتهدئة تهيج الجلد أو في حمامات البخار لتخفيف احتقان الأنف. إنه عشبة طبيعية آمنة وفعالة تُستخدم منذ قرون لفوائدها الصحية المتعددة وتأثيرها المريح على الجسم والعقل.' },
  { id: 11, name: 'نعناع', price: 28, category: 'الأعشاب الطبيعية', images: ['https://images.skynewsarabia.com/images/v1/2024/05/17/1714750/800/450/1-1714750.JPG'], description: 'النعناع هو عشبة عطرية منعشة تُستخدم أوراقها على نطاق واسع في الطهي، تحضير المشروبات، وفي الطب التقليدي. يتميز برائحته القوية ونكهته الباردة والمنعشة التي تأتي من مركب المنثول. يُستخدم النعناع في العديد من الأطباق لإضافة نكهة مميزة، سواء في السلطات، الحساء، الأطباق الرئيسية، أو الحلويات. كما أنه مكون أساسي في العديد من المشروبات الساخنة والباردة، مثل الشاي بالنعناع الشهير في منطقة الشرق الأوسط وشمال أفريقيا. للنعناع فوائد صحية عديدة، خاصة فيما يتعلق بالجهاز الهضمي. يُعتقد أن النعناع يساعد في تخفيف أعراض القولون العصبي مثل الانتفاخ، الغازات، وآلام البطن، وذلك بفضل خصائصه المضادة للتشنجات التي تساعد على إرخاء عضلات الجهاز الهضمي. كما يمكن أن يساعد في تخفيف الغثيان وعسر الهضم. رائحة النعناع المنعشة قد تساعد أيضاً في تحسين التركيز وتخفيف الصداع. يمكن استخدام زيت النعناع الأساسي موضعياً لتخفيف آلام العضلات أو في الاستنشاق لتخفيف احتقان الأنف. النعناع هو عشبة طبيعية متعددة الفوائد تجمع بين النكهة الرائعة والتأثيرات الصحية الإيجابية.' },
  { id: 12, name: 'زعتر', price: 27, category: 'الأعشاب الطبيعية', images: ['https://cdn.salla.sa/rTh4WXfN5VR4cuxXXizACrleQ100NxzpLC6jNfbq.jpeg'], description: 'الزعتر هو عشبة عطرية قوية النكهة تُستخدم على نطاق واسع كبهار في المطابخ حول العالم، خاصة في منطقة البحر الأبيض المتوسط والشرق الأوسط. يتميز برائحته النفاذة ونكهته الترابية والدافئة مع لمسة من الحمضيات. يُستخدم الزعتر في شكل أوراق مجففة أو طازجة، ويُضاف إلى مجموعة متنوعة من الأطباق مثل اللحوم المشوية، الدواجن، الأسماك، الخضروات المحمصة، الحساء، والصلصات. كما أنه مكون أساسي في خلطات بهارات شهيرة مثل الزعتر (المزيج) الذي يُستخدم مع زيت الزيتون لغمس الخبز أو كرش على المخبوزات. بالإضافة إلى استخدامه في الطهي، يمتلك الزعتر خصائص طبية تقليدية. يحتوي على مركبات نشطة مثل الثيمول والكارفاكرول التي لها خصائص قوية مضادة للميكروبات، مضادة للفطريات، ومضادة للأكسدة. يُعتقد أن الزعتر يساعد في تخفيف السعال وأعراض نزلات البرد والتهاب الحلق. كما قد يساعد في تحسين الهضم وتقليل الانتفاخ. يمكن تحضير شاي الزعتر للاستفادة من فوائده الداخلية، أو استخدام زيت الزعتر الأساسي (بعد تخفيفه) موضعياً. الزعتر هو عشبة قيمة تضيف نكهة رائعة وفوائد صحية للأطعمة والمشروبات.' },
  { id: 19, name: 'الإكليل', price: 29, category: 'الأعشاب الطبيعية', images: ['https://vid.alarabiya.net/images/2017/05/21/46f23be7-3b36-4a1c-ba88-4f694cc7cd18/46f23be7-3b36-4a1c-ba88-4f694cc7cd18_16x9_1200x676.jpg?width=801&format=jpg'], description: 'الإكليل، المعروف أيضاً بالروزماري، هو عشبة عطرية دائمة الخضرة تُستخدم أوراقها الإبرية في الطهي والطب التقليدي والعناية بالشعر. يتميز برائحته القوية ونكهته الصنوبرية والمرة قليلاً. يُستخدم الإكليل على نطاق واسع في تتبيل اللحوم (خاصة لحم الضأن والدجاج)، البطاطس المشوية، الخضروات، وفي الحساء والصلصات. يمكن استخدامه طازجاً أو مجففاً، وتكون نكهته أقوى في الشكل المجفف. بالإضافة إلى استخدامه في الطهي، يشتهر الإكليل بفوائده الصحية، خاصة فيما يتعلق بتحسين الذاكرة والتركيز. يُعتقد أن رائحة الإكليل يمكن أن تحفز الدماغ وتحسن الأداء المعرفي. كما أنه يحتوي على مضادات الأكسدة ومركبات مضادة للالتهابات قد تساعد في حماية الجسم من التلف الخلوي وتقليل الالتهابات. يُستخدم زيت الإكليل الأساسي في العناية بالشعر لتعزيز نموه وتقوية البصيلات، ويُعتقد أنه يساعد في علاج قشرة الرأس. يمكن أيضاً تحضير شاي الإكليل للاستفادة من فوائده الداخلية، مثل تحسين الهضم وتخفيف آلام العضلات. الإكليل هو عشبة قيمة تضيف نكهة مميزة وفوائد صحية متعددة.' },
  { id: 13, name: 'عسل سدر', price: 30, category: 'العسل', images: ['https://modo3.com/thumbs/fit630x300/44321/1629285041/%D9%81%D9%88%D8%A7%D8%A6%D8%AF_%D8%B9%D8%B3%D9%84_%D8%A7%D9%84%D8%B3%D8%AF%D8%B1_%D8%A7%D9%84%D8%AC%D8%A8%D9%84%D9%8A.jpg'], description: 'عسل السدر الجبلي هو نوع فاخر ونادر من العسل يُنتج من رحيق أزهار شجرة السدر التي تنمو في المناطق الجبلية. يتميز بلونه الداكن، قوامه الكثيف، ونكهته القوية والمميزة التي تجمع بين الحلاوة ولمسة من المرارة. يُعتبر عسل السدر من أجود أنواع العسل وأكثرها قيمة غذائية وعلاجية، ويحظى بتقدير كبير في الطب التقليدي. يُعرف بخصائصه المضادة للبكتيريا والفيروسات والفطريات، مما يجعله مفيداً في علاج التهابات الجهاز التنفسي، السعال، والتهاب الحلق. كما يُعتقد أنه يساعد في تقوية جهاز المناعة وتحسين الصحة العامة. عسل السدر غني بمضادات الأكسدة التي تساعد في حماية الخلايا من التلف الناتج عن الجذور الحرة. يُستخدم أيضاً في علاج مشاكل الجهاز الهضمي مثل قرحة المعدة والإمساك. بالإضافة إلى فوائده الداخلية، يُستخدم عسل السدر موضعياً لتسريع شفاء الجروح والحروق وتحسين صحة الجلد. إنه منتج طبيعي قيم يجمع بين النكهة الفريدة والفوائد الصحية المتعددة.' },
  { id: 14, name: 'عسل زهور', price: 28, category: 'العسل', images: ['https://www.honey-jye.com/uploads/products/1009/167043130946321.jpg'], description: 'عسل الزهور البرية هو نوع من العسل يُنتج من رحيق مجموعة متنوعة من الأزهار البرية المختلفة التي تنمو في منطقة معينة. يتميز هذا النوع من العسل بتنوع نكهاته وألوانه ورائحته، حيث تعتمد خصائصه الحسية على أنواع الأزهار التي جمع النحل رحيقها. غالباً ما يكون لونه ذهبياً فاتحاً إلى عنبري داكن، ونكهته تتراوح بين الخفيفة والمعقدة. عسل الزهور البرية يعتبر مصدراً غنياً بالطاقة بفضل احتوائه على السكريات الطبيعية (الجلوكوز والفركتوز) التي يمتصها الجسم بسرعة. كما أنه يحتوي على مجموعة متنوعة من الفيتامينات والمعادن، مثل فيتامينات ب، فيتامين C، الكالسيوم، الحديد، والمغنيسيوم، وإن كانت بكميات قليلة. يحتوي أيضاً على مضادات الأكسدة والإنزيمات التي تساهم في فوائده الصحية. يُعتقد أن عسل الزهور البرية يساعد في تهدئة السعال والتهاب الحلق، وقد يكون له خصائص مضادة للبكتيريا. إنه محلي طبيعي صحي يمكن استخدامه بدلاً من السكر المكرر في المشروبات، الحلويات، والطهي، ويضيف نكهة فريدة وقيمة غذائية للأطعمة.' },
  { id: 15, name: 'عسل نحل', price: 32, category: 'العسل', images: ['https://media.elwatannews.com/media/img/mediaarc/large/1080201431612635721.jpg'], description: 'عسل النحل هو السائل الحلو اللزج الذي ينتجه النحل من رحيق الأزهار. يُعتبر من أقدم المحليات الطبيعية التي عرفها الإنسان، ويُستخدم على نطاق واسع في الغذاء والطب التقليدي. يتميز عسل النحل بلونه الذي يتراوح من الفاتح جداً إلى الداكن، وقوامه الذي يمكن أن يكون سائلاً أو متبلوراً، ونكهته التي تختلف حسب مصدر الرحيق. عسل النحل هو مصدر طبيعي للكربوهيدرات، حيث يتكون بشكل أساسي من السكريات البسيطة (الجلوكوز والفركتوز) التي توفر طاقة سريعة للجسم. يحتوي أيضاً على كميات قليلة من الفيتامينات والمعادن والإنزيمات ومضادات الأكسدة. يُعرف عسل النحل بخصائصه المضادة للبكتيريا والميكروبات، مما يجعله مفيداً في علاج الجروح والحروق الطفيفة. كما أنه يُستخدم لتهدئة السعال والتهاب الحلق. يُعتقد أن عسل النحل الطبيعي غير المعالج يحتوي على حبوب اللقاح والبروبوليس التي قد تساهم في فوائده الصحية. يمكن استخدام عسل النحل كمحلي طبيعي في المشروبات، الحلويات، والطهي، أو تناوله مباشرة للاستفادة من فوائده الصحية.' },
  { id: 20, name: 'عسل جبلي', price: 35, category: 'العسل', images: ['https://qaenat.com/cdn/shop/articles/25d9a09e7bcfcd81f04ac571336b78de.jpg?v=1663847880&width=700'], description: 'عسل الجبلي هو نوع من العسل يُنتج من رحيق الأزهار والنباتات التي تنمو في المناطق الجبلية الوعرة. غالباً ما تكون هذه المناطق أقل تلوثاً وأكثر تنوعاً نباتياً، مما يمنح العسل الجبلي خصائص فريدة ونكهة مميزة. يتميز بلونه الداكن وقوامه الكثيف ونكهته القوية والغنية التي تعكس تنوع مصادر الرحيق. يُعتبر عسل الجبلي من أنواع العسل ذات القيمة الغذائية والعلاجية العالية، ويُستخدم في الطب التقليدي لفوائده المتعددة. يُعرف بخصائصه المقوية للجسم والمفيدة للجهاز التنفسي. يُعتقد أنه يساعد في علاج السعال، التهاب الحلق، ونزلات البرد. كما أنه غني بمضادات الأكسدة التي تساهم في حماية الجسم من التلف الخلوي وتعزيز صحة الجهاز المناعي. قد يكون له أيضاً خصائص مضادة للبكتيريا والالتهابات. يُستخدم عسل الجبلي كمحلي طبيعي صحي، ويمكن تناوله مباشرة أو إضافته إلى المشروبات والأطعمة للاستفادة من نكهته الغنية وفوائده الصحية. إنه منتج طبيعي قيم يعكس نقاء البيئة الجبلية وتنوعها النباتي.' },
])

const route = useRoute()
const product = ref(null)
const mainImage = ref('')
const quantity = ref(1)

onMounted(() => {
  const productId = parseInt(route.params.id)
  product.value = allProducts.value.find(p => p.id === productId)
  if (product.value && product.value.images.length > 0) {
    mainImage.value = product.value.images[0] // Set initial main image
  }
})

const setMainImage = (imageUrl) => {
  mainImage.value = imageUrl
}

const increaseQuantity = () => {
  quantity.value++
}

const decreaseQuantity = () => {
  if (quantity.value > 1) {
    quantity.value--
  }
}

const addToCart = () => {
  if (product.value) {
    console.log(`Adding ${quantity.value} of ${product.value.name} (ID: ${product.value.id}) to cart. Price: ${product.value.price}`)
    // Get existing cart from localStorage or initialize an empty array
    const cart = JSON.parse(localStorage.getItem('cart') || '[]')

    // Check if product already exists in cart
    const existingProductIndex = cart.findIndex(item => item.id === product.value.id)

    if (existingProductIndex > -1) {
      // Update quantity if product exists
      cart[existingProductIndex].quantity += quantity.value
    } else {
      // Add new product to cart
      cart.push({
        id: product.value.id,
        name: product.value.name,
        price: product.value.price, // Price is already a number
        quantity: quantity.value,
        image: product.value.images[0] // Add main image for cart display
      })
    }

    // Save updated cart back to localStorage
    localStorage.setItem('cart', JSON.stringify(cart))
    // Dispatch event for header update
    window.dispatchEvent(new CustomEvent('cart-updated'));

    alert(`${quantity.value} ${product.value.name} تمت إضافته إلى السلة!`) // Keep alert for user feedback
  }
}

</script>

<style scoped>
.product-detail-view {
  direction: rtl; /* Right-to-left layout */
}

.thumbnail-images img {
  max-width: calc(25% - 6px); /* Adjust width considering potential gap/margin */
  height: auto;
}

/* Ensure quantity input arrows are hidden for custom styling */
input[type=number]::-webkit-inner-spin-button,
input[type=number]::-webkit-outer-spin-button {
  -webkit-appearance: none;
  margin: 0;
}
input[type=number] {
  -moz-appearance: textfield; /* Firefox */
}
</style>
